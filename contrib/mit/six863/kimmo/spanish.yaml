boundary: '#'
lexicon: spanish.lex
defaults: "a e i o u a' e' i' o' u' b c d f g h j k l m n n~ p q r s t v w x y z J:j C:c +:0 ` # 0"
subsets:
  "C_NOT_S":  "b c d f g h j k l m n n~ p q r t v w x y z"
  "CONSONANTS": "b c d f g h j k l m n n~ p q r s t v w x y z J C"
  "FRONT": "e i e' i'"
  "BACK": "u o a u' o' a'"
  "@": "a e i o u a' e' i' o' u' b c d f g h j k l m n n~ p q r s t v w x y z J C + ' ` + # 0"
rules:
  g-j mutation:
    state start:
      'J:g': front
      'J:j': back
      '@': start
    rejecting state front:
      '@:0': front
      '@:FRONT': start
      '@': reject
    rejecting state back:
      '@:0': back
      '@:BACK': start
      '@': reject

  z-c mutation:   # illustrating abbreviated state labels
    start:
      'z:c': front
      'z': nonfront
      '@': start
    rej front:
      '@:FRONT': start
      '@:0': front
      '@': reject
    rej nonfront:
      '@:FRONT': reject
      'z:c': front
      'z': nonfront
      '@:0': nonfront
      '@': start

  pluralization:
    start:
      '@:C_NOT_S': consonant
      's': consonant
      '0:e': reject
      '@': start
    consonant:
      '@:C_NOT_S': consonant
      's': consonant
      '0:e': reject
      '+:0': guess_e
      '@': start
    guess_e:
      '0:e': require_s
      '@:C_NOT_S': consonant
      's': reject
      '@': start
    rejecting require_s:
      's': start
      '@': reject
      
  c-zc irregularity: |
    FSA
       C C C 0 +     @    @ @
       C c z c 0 FRONT BACK @
    1: 0 2 4 0 1     1    1 1
    2. 0 0 0 0 3     0    0 0
    3. 0 0 0 0 0     1    0 0
    4. 0 0 0 5 0     0    0 0
    5. 0 0 0 0 6     0    0 0
    6. 0 0 0 0 0     0    1 0

