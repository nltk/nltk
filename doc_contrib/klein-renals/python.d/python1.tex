\title{Introduction to Programming in Python (1)}
\author{Steve Renals \newline s.renals@ed.ac.uk}
\date{ICL --- 26 September 2005}

\begin{document}

\frame{\titlepage}



\mode<article>{\section[Outline]{ICL/Introduction to Python 1/2005-09-26}}
\mode<presentation>{
  \section[Outline]{}
  \frame{
    \frametitle{Announcements}

    \begin{itemize}
    \item Lab sessions:  Groups listed on the web:
      \href{http://www.inf.ed.ac.uk/admin/itodb/mgroups/labs/icl.html}
      {http://www.inf.ed.ac.uk/admin/itodb/mgroups/labs/icl.html}
    \end{itemize}
  }
}

\frame{\tableofcontents}


\section{Introduction}

%Safari is available on campus (no username and password required) at
%http://proquest.safaribooksonline.com/?uicode=Edinburgh and off campus via
%the University's Proxy Cache Service ("universal username" and password
%required).
%http://proquest.safaribooksonline.com/JVXSL.asp?x=1&mode=toc&sortKey=title&sortOrder=asc&view=book&xmlid=0-596-00281-5



\subsection{Overview}
\frame{
  \frametitle{Python books}

  \begin{itemize}
  \item Mark Lutz and David Ascher (2004). \emph{Learning Python}, 2nd
    Edition, O'Reilly.
  \item Allen Downey, Jeff Elkner and Chris Meyers (2001), \emph{How
      to Think Like a Computer Scientist: Learning with Python}, Green
    Tea Press.\newline
    \href{http://www.greenteapress.com/thinkpython/}{http://www.greenteapress.com/thinkpython/}
  \item David Beazley (2001), \emph{Python Essential Reference}, 2nd
    edition, New Riders.
  \item Mark Lutz (2002). \emph{Python Pocket Reference}, 2nd Edition,
    O'Reilly. 
  \item Mark Lutz (2001). \emph{Programming Python}, 2nd Edition,
    O'Reilly. 
  \end{itemize}

  (O'Reilly books available via on the web Safari Books Online:\newline
  \href{http://proquest.safaribooksonline.com/?uicode=Edinburgh}
  {http://proquest.safaribooksonline.com/?uicode=Edinburgh})
}

\frame{
  \frametitle{Python features}

  \begin{itemize}
  \item<1-> Free, portable, powerful
  \item<2-> Easy to mix in components from other languages
  \item<3-> Object-oriented (including operator overloading,
    polymorphism, multiple inheritance)
  \item<4-> Easy to use, easy to learn, easy to understand
  \item<5-> NLTK and NLTK-Lite are Python packages that we will use in
    ICL
  \end{itemize}

\uncover<5->{(\emph{Learning Python}, chapter 1)}
}

\subsection{Running programs}

\frame{
  \frametitle{Using Python interactively}

The easiest way to use Python initially is interactively:
  \begin{semiverbatim}\small
\% {\bf python2.4}\newline
>>> print 'ICL'\newline
ICL\newline
>>> print 3*4\newline
12\newline
>>> print 2**16\newline
65536\newline
>>> myname  = 'Steve'\newline
>>> myname\newline
'Steve'
\end{semiverbatim}
(\emph{Learning Python}, chapter 3)

\pause
  Can also use the \textbf{IDLE} environment: {\bf\tt idle2.4}

  (X)Emacs users have python-mode.
}


\frame{
  \frametitle{Modules}

  \begin{itemize}
  \item<1-> To save code you need to write it in files
  \item<1-> \emph{Module}: a text file containing Python code
  \end{itemize}
  \uncover<2->{
  Example:  write the following to file \texttt{foo.py}:
  \begin{semiverbatim}\small
    print 25*3                 \# multiply by 3   \newline                          
    print 'ICL ' + 'lecture 2'  \# concatenate strings using + \newline
    myname = 'Steve' \newline
  \end{semiverbatim}
  (No leading spaces!)}
  \uncover<3->{
  Then run it as follows:
  \begin{semiverbatim}
  \% {\bf python foo.py}\newline
  75 \newline
  ICL lecture 2 \newline
  \%
  \end{semiverbatim}}
}

\frame{
  \frametitle{Importing modules}

  Every file ending in \texttt{.py} is a Python module.

  \pause
  Modules can contain attributes such as functions, 

  \pause
  We can \emph{import} this module into Python:
  \begin{semiverbatim}
    \% {\bf python} \newline
    >>> import foo \newline
    75 \newline
    ICL lecture 2 \newline
    >>> foo.myname \newline
    'Steve'
  \end{semiverbatim}
}

\frame{
  \frametitle{Executable scripts}

  On unix/linux can make normal Python text files \emph{executable}:
  \begin{itemize}
  \item \textbf{The first line is special} beginning with \texttt{\#!}
  \item \textbf{File has executable privileges}  (\texttt{chmod +x file.py})
  \end{itemize}
  \pause
  Example:  write the following to file \texttt{foo.py}:
  \begin{semiverbatim}\small
    \#!/usr/bin/python2.4\newline
    print 25*3                 \# multiply by 3   \newline                          
    print 'ICL ' + 'lecture 2'  \# concatenate strings using + \newline
    myname = 'Steve' 
  \end{semiverbatim}
  \pause
  \begin{semiverbatim}\small
  \% {\bf chmod +x foo.py}\newline
  \% {\bf foo.py}\newline
  75 \newline
  ICLlecture 2 \newline
  \% 
  \end{semiverbatim}
}

\subsection{Modules}

\frame{
  \frametitle{Module reloads}

  \begin{itemize}
  \item Importing is expensive---after the first import of a module,
    repeated imports of a module have no effect (even if you have
    edited it)
  \item Use \texttt{reload} for force Python to rerun the file again:
    \pause
\begin{semiverbatim}
   >>> import foo\newline
   75 \newline
   ICL lecture 2 \newline
\end{semiverbatim}
    \pause
    Redit foo.py to print 25*4 and reload
\begin{semiverbatim}
   >>> reload(foo)\newline
   100\newline
   ICL lecture 2\newline
   <module 'foo' from 'foo.py'>
\end{semiverbatim}

  \end{itemize}
}

\frame{
  \frametitle{Module attributes}
  Consider \texttt{bar.py}:
\begin{semiverbatim}\small
university = `Edinburgh`\newline
school = `Informatics`
\end{semiverbatim}
  \pause
\begin{semiverbatim}\small
>>> import bar\newline
>>> print bar.school\newline
Informatics
\end{semiverbatim}
  \pause
\begin{semiverbatim}\small
>>> from bar import school\newline
>>> print school\newline
Informatics
\end{semiverbatim}
  \pause
\begin{semiverbatim}\small
>>> from bar import *\newline
>>> print university\newline
Edinburgh
\end{semiverbatim}
  \pause
  \texttt{from} copies named \emph{attributes} from a module, so they
  are \emph{variables} in the recipient.
}

\frame{
  \frametitle{Python program structure}

  \begin{itemize}
  \item<1-> \textbf{Programs} are composed of \emph{modules}
  \item<2-> \textbf{Modules} contain \emph{statements}
  \item<3-> \textbf{Statements} contain \emph{expressions}
  \item<4-> \textbf{Expressions} create and process \emph{objects}
  \end{itemize}

  \uncover<5->{
    (Statements include: variable assignment, function calls, control
    flow, module access, building functions, building objects, print)

    (\emph{Learning Python}, chapter 4)    
  }


}



\section{Basic object types}

\subsection{Numbers and variables}

\frame{
  \frametitle{Python's built-in objects}

  \begin{enumerate}
  \item Numbers: integer, floating point, complex
  \item Strings
  \item Lists
  \item Dictionaries
  \item Tuples
  \item Files
  \end{enumerate}
}

\frame{
  \frametitle{Numbers (and variables)}

  \begin{itemize}
  \item<1-> Usual number operators, eg: \texttt{+, *, /, **, and, \&}
  \item<1-> Usual operator precedence:\newline
    \texttt{A * B + C * D} = \texttt{(A
      * B) + (C * D)}\newline
    (use parens for clarity and to reduce bugs)
  \item<2-> Useful packages: \texttt{math}, \texttt{random}
  \item<2-> Serious users: \texttt{numeric}, \texttt{numarray}
  \item<3-> Variables
    \begin{itemize}
    \item created when first assigned a value
    \item replaced with their values when used in expressions
    \item must be assigned before use
    \item no need to declare ahead of time
    \end{itemize}
  \end{itemize}
}

\subsection{Strings}

\frame{
  \frametitle{Strings}

  \begin{itemize}
  \item<1-> String handling in Python is easy and powerful (unlike C,
    C++, Java)
  \item<2-> Strings may be written using single quotes:\newline
    \texttt{'This is a Python string'}
  \item<2-> or double quotes\newline
    \texttt{"and so is this"}
  \item<3-> They are the same, it just makes it easy to include single
    (double) quotes:\newline
    \texttt{'He said "what?"'}, \texttt{"He's here"}
  \end{itemize}

    (\emph{Learning Python}, chapter 5)    
}

\begin{frame}[fragile]
  \frametitle{Backslash in strings}

  \begin{itemize}
  \item Backslash $\backslash$ can be used to escape (protect) certain non-printing
    or special characters
  \item $\backslash$n is newline, $\backslash$t is tab
  \end{itemize}
  \pause
\begin{verbatim}
>>> s = 'Name\tAge\nJohn\t21\nBob\t44'
>>> print s
Name    Age
John    21
Bob     44
>>> t = '"Mary\'s"'
>>> print t
"Mary's"
\end{verbatim}
\end{frame}

\frame{
  \frametitle{Triple quote}

  Use a triple quote (\texttt{"""} or \texttt{'''}) for a string  over several lines:
\begin{semiverbatim}\small
>>> s = """this is\newline
... a string \newline
... over 3 lines"""\newline
>>> t = '''so\newline
... is \newline
... this'''\newline
>>> print s\newline
this is\newline
a string\newline
over 3 lines\newline
>>> print t\newline
so\newline
is\newline
this
\end{semiverbatim}
}

\frame{
  \frametitle{String operations}

  \begin{itemize}
  \item<1-> Concatenation (\texttt{+})
  \item<1-> Length (\texttt{len})
  \item<1-> Repetition (\texttt{*})
  \item<1-> Indexing and slicing (\texttt{[]})
  \end{itemize}

  \uncover<2->{
\begin{semiverbatim}\small
s = 'computational'\newline
t = 'linguistics'\newline
cl = s + ' ' + t \# 'computational linguistics'\newline
l = len(cl) \# 25\newline
u = '-' * 6 \# '------'\newline
c = s[3] \# p\newline
x = cl[11:16] \# 'al li'\newline
y = cl[20:] \# 'stics'\newline
z = cl[:-1] \# 'computational linguistic'
\end{semiverbatim}
  }
}

\frame{
  \frametitle{String methods}
  
  \begin{itemize}
  \item Methods are functions applied associated with objects
  \item String methods allow strings to be processed in a more
    sophisticated way
  \end{itemize}
  \pause
\begin{semiverbatim}\small
s = 'example'\newline
s = s.capitalize() \# 'Example'\newline
t = s.lower() \# 'example'\newline
flag = s.isalpha() \# True\newline
s = s.replace('amp', 'M') \# 'exMle'\newline
i = t.find('xa') \# 1\newline
n = t.count('e') \# 2
\end{semiverbatim}
}

\subsection{Lists}

\begin{frame}[fragile]
  \frametitle{Lists in Python}
  \begin{itemize}
  \item \emph{Ordered} collections of arbitrary objects
  \item Accessed by \emph{indexing} based on offset
  \item Variable length, heterogenous (can contain any type of
    object), nestable
  \item \emph{Mutable} (can change the elements, unlike strings)
  \end{itemize}
  \pause
  {\small
\begin{verbatim}
>>> s = ['a', 'b', 'c']
>>> t = [1, 2, 3]
>>> u = s + t # ['a', 'b', 'c', 1, 2, 3]
>>> n = len(u) # 6
>>> for x in s:
...     print x
...
a
b
c
\end{verbatim}}
\end{frame}

\frame{
  \frametitle{Indexing and slicing lists}

  \begin{itemize}
  \item Indexing and slicing work like strings
  \item Indexing returns the object element
  \item Slicing returns a list
  \item Can use indexing and slicing to change contents
  \end{itemize}
  \pause
\begin{semiverbatim}\small
l = ['a', 'b', 'c', 'd'] \newline
x = l[2] \# 'c'\newline
m = l[1:] \# ['b', 'c', 'd']\newline
l[2] = 'z' \# ['a', 'b', 'z', 'd']\newline
l[0:2] = ['x', 'y'] \# ['x', 'y', 'z', 'd']
\end{semiverbatim}
    (\emph{Learning Python}, chapter 6)    
}

\frame{
  \frametitle{List methods}
  \begin{itemize}
  \item Lists also have some useful methods
  \item \texttt{append} adds an item to the list
  \item \texttt{extend} adds multiple items
  \item \texttt{sort} orders a list in place
  \end{itemize}
  \pause
\begin{semiverbatim}\footnotesize
l = ['x', 'y', 'z', 'd']\newline
l.sort() \# ['d', 'x', 'y', 'z']\newline
l.append('q') \# ['d', 'x', 'y', 'z', 'q']\newline
l.extend(['r', 's']) \# ['d', 'x', 'y', 'z', 'q', 'r', 's']\newline
l.append(['v', 'w']) \# ['d', 'x', 'y', 'z', 'q', 'r', 's', ['v', 'w']]
\end{semiverbatim}
}

\subsection{Dictionaries}

\frame{
  \frametitle{Dictionaries}

  Dictionaries are
  \begin{itemize}
  \item<1-> Addressed by \emph{key}, not by offset
  \item<1-> \emph{Unordered} collections of arbitrary objects
  \item<1-> Variable length, heterogenous (can contain any type of
    object), nestable
  \item<1-> \emph{Mutable} (can change the elements, unlike strings)
  \end{itemize}

  \uncover<2->{
    \begin{itemize}
    \item Think of dictionaries as a set of key:value pairs
    \item Use a key to access its value
    \end{itemize}
    (\emph{Learning Python}, chapter 7)    
  }
}

\frame{\frametitle{Dictionary example}
\begin{semiverbatim}\footnotesize
level = \{ 'icl' : 9, 'nlssd' : 11, 'inf2b' : 8\}\newline
x = level['nlssd'] \# 11\newline
n = len(level) \# 3 \newline
\mbox{ }\newline
flag = level.has\_key('inf2b') \# True \newline
l = level.keys() \# ['nlssd', 'inf2b', 'icl']\newline
\mbox{ }\newline
level['dil'] = 11 \# \{'dil': 11, 'nlssd': 11, 'inf2b': 8, 'icl': 9\} \newline
level['icl'] = 10 \# \{'dil': 11, 'nlssd': 11, 'inf2b': 8, 'icl': 10\}\newline
\mbox{ }\newline
l = level.items() \# [('dil', 11), ('nlssd', 11), ('inf2b', 8), ('icl', 10)]\newline
l = level.values() \# [11, 11, 8, 10] \newline
\end{semiverbatim}
}

\frame{\frametitle{Notes on dictionaries}
  \begin{itemize}
  \item<1-> Sequence operations don't work:  dictionaries are
    \emph{mappings}, not sequences
  \item<1-> Dictionaries have a \emph{set} of keys:  only one value
    per key
  \item<1-> Assigning to a new key adds an entry
  \item<1-> Keys can be any immutable object, not just strings
  \item<2-> Dictionaries can be used as ``records''
  \item<2-> Dictionaries can be used for sparse matrices
  \end{itemize}
}


\begin{frame}
  \frametitle{Other objects}
  
  \textbf{Tuples}: like lists, but immutable (cannot be changed)
  \pause
\begin{semiverbatim}\small
emptyT = () \newline
T1 = (1, 2, 3)\newline
x = T1[1]\newline
n = len(T1)
\end{semiverbatim}

  \pause
  \textbf{Files}:  objects with methods for reading and writing to files
    \pause
\begin{semiverbatim}\small
fil = open('myfile', 'w')\newline
fil.write('hello file\\n')\newline
fil.close()\newline
\end{semiverbatim}
\pause
\begin{semiverbatim}\small
f2 = open('myfile', 'r')\newline
s = f2.readline() \# 'hello file\\n'\newline
t = f2.readline() \# ''
\end{semiverbatim}
    (\emph{Learning Python}, chapter 7)    
\end{frame}

\section{Control Flow}

\subsection{Conditionals}
\begin{frame}[fragile]
  \frametitle{if tests}
{\small
\begin{verbatim}
course = 'icl'
if course == 'icl':
    print 'Ewan / Steve'
elif course == 'dil':
    print 'Phillip'
else:
    print 'Someone else'
\end{verbatim}}
  \pause
  \begin{itemize}
  \item \textbf{Indentation determines the block structure}
  \item Indentation to the left is the only place where whitespace
    matters in Python
  \item Indentation enforces readability
  \item Tests after \texttt{if} and \texttt{elif} can be anything that
    returns True/False
  \end{itemize}
    (\emph{Learning Python}, chapter 9)    
\end{frame}


\subsection{Loops}

\begin{frame}[fragile]
  \frametitle{while loops}

  A while loop keeps iterating while the test at the top remains True.

{\small
\begin{verbatim}
a = 0
b = 10
while a < b:
    print a
    a = a + 1
\end{verbatim}
  \pause
\begin{verbatim}
s = 'icl'
while len(s) > 0:
    print s
    s = s[1:]
\end{verbatim}}
    (\emph{Learning Python}, chapter 10)    
\end{frame}

\begin{frame}[fragile]
  \frametitle{for loops}

  \texttt{for} is used to step through any sequence object
{\small
\begin{verbatim}
l = ['a', 'b', 'c']
for i in l:
    print i
\end{verbatim}}
  \pause
{\small
\begin{verbatim}
sum = 0
for x in [1, 2, 3, 4, 5, 6]:
    sum = sum + x
print sum
\end{verbatim}}
  \pause
\texttt{range()} is a useful function:
{\small
\begin{verbatim}
range(5) = [0, 1, 2, 3, 4]
range(2, 5) = [2, 3, 4]
range(0, 6, 2) = [0, 2, 4]
\end{verbatim}}
\end{frame}

\section{Summary}
\frame{\frametitle{Summary}
  \begin{itemize}
  \item Introduction to Python
  \item Python programs and modules
  \item Basic objects: numbers, strings, lists, dictionaries
  \item Control flow: if, while, for
  \end{itemize}
}

\end{document}
